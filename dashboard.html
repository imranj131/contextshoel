<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Contextshoel Dashboard</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link href="./assets/css/bootstrap2.min.css" rel="stylesheet">
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<link href="./assets/css/dashboard.css" rel="stylesheet">
    <!-- Highchart -->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
	</head>
	<body>
<nav class="navbar navbar-fixed-top header">
 	<div class="col-md-12">
        <div class="navbar-header">
          
          <a href="#" class="navbar-brand" style="color: white;">contextshoel</a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse1">
          <i class="glyphicon glyphicon-search"></i>
          </button>
      
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse1">
          <form class="navbar-form pull-left">
              <div class="input-group" style="max-width:470px;">
                <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
                <div class="input-group-btn">
                  <button class="btn btn-default btn-primary" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                </div>
              </div>
          </form>
          <ul class="nav navbar-nav navbar-right">
             <li><a href="http://www.bootply.com" target="_ext" style="color: white;">Imran</a></li>
             <li>
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-bell" style="color: white;"></i></a>
                <ul class="dropdown-menu">
                  <li><a href="#"><span class="badge pull-right">40</span>Link</a></li>
                  <li><a href="#"><span class="badge pull-right">2</span>Link</a></li>
                  <li><a href="#"><span class="badge pull-right">0</span>Link</a></li>
                  <li><a href="#"><span class="label label-info pull-right">1</span>Link</a></li>
                  <li><a href="#"><span class="badge pull-right">13</span>Link</a></li>
                </ul>
             </li>
             <li><a href="#" id="btnToggle"><i class="glyphicon glyphicon-th-large" style="color: white;"></i></a></li>
             <li><a href="#"><i class="glyphicon glyphicon-user" style="color: white;"></i></a></li>
           </ul>
        </div>	
     </div>	
</nav>
<div class="navbar navbar-default" id="subnav">
    <div class="col-md-12">
        <div class="navbar-header">
          
          <a href="#" style="margin-left:15px;" class="navbar-btn btn btn-default btn-plus dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-home" style="color:#3071A9;"></i> Home <small><i class="glyphicon glyphicon-chevron-down"></i></small></a>
          <ul class="nav dropdown-menu">
              <li><a href="#"><i class="glyphicon glyphicon-user" style="color:#1111dd;"></i> Profile</a></li>
              <li><a href="#"><i class="glyphicon glyphicon-dashboard" style="color:#0000aa;"></i> Dashboard</a></li>
              <li><a href="#"><i class="glyphicon glyphicon-inbox" style="color:#11dd11;"></i> Correlation</a></li>
              <li class="nav-divider"></li>
              <li><a href="#"><i class="glyphicon glyphicon-cog" style="color:#dd1111;"></i> Settings</a></li>
              <li><a href="#"><i class="glyphicon glyphicon-plus"></i> More..</a></li>
          </ul>
          
          
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse2">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
      
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse2">
          <ul class="nav navbar-nav navbar-right">
             <li class="active"><a href="#">Posts</a></li>
             <li><a href="#loginModal" role="button" data-toggle="modal">Login</a></li>
             <li><a href="#aboutModal" role="button" data-toggle="modal">About</a></li>
           </ul>
        </div>	
     </div>	
</div>

<!--main-->
<div class="container" id="main">
   <div class="row">
   <div class="col-md-4 col-sm-6">

        <div class="well"> 
             <form class="form-horizontal" role="form">
              <h4> <span class="glyphicon glyphicon-grain"></span> Mood</h4>
               <div class="form-group" style="padding:14px;">
                <textarea class="form-control" placeholder="How was your day?"></textarea>
              </div>
              <button class="btn btn-success pull-right" type="button">Post</button><ul class="list-inline"><li><a href="#"><i class="glyphicon glyphicon-align-left"></i></a></li><li><a href="#"><i class="glyphicon glyphicon-align-center"></i></a></li><li><a href="#"><i class="glyphicon glyphicon-align-right"></i></a></li></ul>
            </form>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4> <span class="glyphicon glyphicon-calendar"> Events</span></h4></div>
   			<div class="panel-body">
          <div class="list-group">
            <span style="padding-left: 20%">
                <img src="./assets/images/calender.png" style="width: 23%; display: initial; margin-left: 60px; margin-right: auto;">
          </span>
          <hr>
            <a href="#" class="list-group-item">Number of events = 2  </a>
            <a href="#" class="list-group-item">Time at events = 01:20 </a>
          </div>
            </div>
   		</div>

	</div>

  <div class="col-md-4 col-sm-6">

      <div class="panel panel-default">
          <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4> <span class= "glyphicon glyphicon-stats"></span> Steps</h4></div>
        <div class="panel-body">
          <div>
            <p id="daily-steps-tally" class="daily-steps-tally" style="color:#787878;"></p>
          </div>
        </div>
      </div>

      <script>
      function updateDailyStepsTally() {
        var thisUrl = window.location.href;
        xmlhttp = new XMLHttpRequest();
        xmlhttp.open("GET","http://104.236.25.183:5000/get_steps?date=2015-09-06", true);
        xmlhttp.onreadystatechange=function() {
          if(xmlhttp.readyState==4 && xmlhttp.status==200) {
              // sum the steps for today
              var rawResponseText = xmlhttp.responseText;
              var responseObject = JSON.parse(rawResponseText);

              var dailyStepsTally = 0;
              if(responseObject.hasOwnProperty("logs")) {
                var stepLogs = responseObject.logs;
                for(var i = 0; i < stepLogs.length; i++) {
                  if(stepLogs[i].hasOwnProperty("steps")) {
                    dailyStepsTally += parseInt(stepLogs[i].steps);
                  }
                }
              }

              document.getElementById("daily-steps-tally").innerHTML = dailyStepsTally;
          }
        }
        xmlhttp.send();
      }

      // initial populating of tally
      updateDailyStepsTally();

      // every 5 seconds send get request to get all daily step logs
      setInterval(function(){
        updateDailyStepsTally();
      },5000);
     

      </script>

      <div class="panel panel-default">
           <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4> <span class= "glyphicon glyphicon-headphones"></span> Music </span></h4></div>
        <div class="panel-body">
            <div>
            <span style="padding-left: 20%">
                <img src="./assets/images/spotify.png" style="width: 43%; display: initial; margin-left: 35px; margin-right: auto;">
          </span>
              <hr>
            <a href="#" class="list-group-item">Today = 23 tracks played </a>
          </div>
        </div>
      </div>
        
        <div class="panel panel-default">
          <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4><span class= "glyphicon glyphicon-time"></span> Sleep</h4></div>
   			<div class="panel-body">
        <span style="padding-left: 20%">
                <img src="./assets/images/fitbit.png" style="width: 43%; display: initial; margin-left: 35px; margin-right: auto;">
          </span>
          <hr>
           <a href="#" class="list-group-item">Bed time = 08:10 </a>
            <a href="#" class="list-group-item">Awakenings = 2 </a>
            </div>
   		</div>

    </div>

    <div class="col-md-4 col-sm-6">

      <div class="panel panel-default">
           <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4><span class="glyphicon glyphicon-pushpin"> Check-ins </span></h4></div>
        <div class="panel-body">
        <span style="padding-left: 20%">
                <img src="./assets/images/swarms.png" style="width: 40%; display: initial; margin-left: 25px; margin-right: auto;">
        </span>
              <hr>
            <div>
            <a href="#" class="list-group-item">Today = 2</a>
            <a href="#" class="list-group-item">This week = 9</a>
          </div>
        </div>
      </div>
        
        <div class="panel panel-default">
          <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4><span class="glyphicon glyphicon-cloud"> Weather </span></h4></div>
        <div class="panel-body">
              <div class="list-group">
              <span style="padding-left: 20%">
                <img src="./assets/images/sun.png" style="width: 25%; display: initial; margin-left: auto; margin-right: auto;">
                <img src="./assets/images/cloudy.png" style="width: 32%; display: initial; margin-left: auto; margin-right: auto;">
              </span>
              <hr>
                <a href="http://bootply.com/tagged/modal" class="list-group-item">Max Temp = 25 &#8451</a>
                <a href="http://bootply.com/tagged/datetime" class="list-group-item">Min Temp = 19 &#8451</a>
                <a href="http://bootply.com/tagged/datetime" class="list-group-item">Precipitation = 0 mm</a>
                <a href="http://bootply.com/tagged/datetime" class="list-group-item">Cloud Cover = 0.24 mm</a>
                <a href="http://bootply.com/tagged/datetime" class="list-group-item">Wind Speed = 2.63 km/s</a>

              </div>
            </div>
      </div>

    </div>

  </div>
  
  
  	<hr>
  <!-- Correlations -->
  	<div class="row">
  		<div class="col-md-12"><h2>Correlations</h2></div>
        <div class="col-md-12">
          <div class="alert alert-info alert-dismissable">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
              <strong>Heads up!</strong> This alert needs your attention, but it's not super important.
          </div>
        </div>
  

      <div class="col-md-5 col-sm-6">
         
        <div class="panel panel-default">
           <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4>You get <b>more steps</b> when it's a <b>sunnier day</b>.</h4>
           </div>
        <div class="panel-body">
              
      <div style="background-color: white; border-radius: 12px; border: 1px solid white; border-width: thick;">
        <h3 style="text-align: center;">Steps Per Minute vs. Temperature</h3>
        <div id="chart-one" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
      </div>

      <script>

      $(function () {
        $('#chart-one').highcharts({
            chart: {
                zoomType: 'xy'
            },
            colors: ['#333A45', '#53B981'],
            title: {
                text: ''
            },
            subtitle: {
                text: ''
            },
            exporting: { 
              enabled: false 
            },
            xAxis: [{
                categories: ['0:00', '1:00', '2:00', '3:00', '4:00', '5:00', '6:00', '7:00', '8:00', '9:00', '10:00', '11:00'],
                crosshair: true
            }],
            yAxis: [{ // Primary yAxis
              gridLineWidth: 0,
                title: {
                    text: 'Steps Per Hour',
                    style: {
                        color: '#333A45'
                    }
                },
                labels: {
                    format: '{value}',
                    style: {
                        color: '#333A45'
                    }
                },
                min: 0
            }, { // Secondary yAxis
                labels: {
                  format: '{value}°F',
                  style: {
                        color: '#53B981'
                    }
              },
              title: {
                  text: 'Temperature',
                  style: {
                        color: '#53B981'
                    }
              },
              opposite: true
            }],
            tooltip: {
                shared: true
            },
            series: [{
                name: 'Steps Per Hour',
                type: 'spline',
                yAxis: 0,
                data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 266, 112, 43],
                tooltip: {
                    valueSuffix: ' steps'
                }
            }, {
                name: 'Temperature',
                type: 'spline',
                yAxis: 1,
                data: [72, 68, 67, 71, 73, 72, 74.3, 76.6, 77, 79, 81, 84],
                tooltip: {
                    valueSuffix: ' °F'
                }
            }]
        });
      });
      </script>
      <script>
        // Remove the highcharts.com label
        setTimeout(function(){
          $($('body').find("text")[$('body').find("text").length-1]).html("");
        }, 100);
      </script>
            
        </div>
        </div>
      
    </div>

    	<!-- <div class="panel panel-default">
           <div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4>Correlations</h4></div>
   			<div class="panel-body">
              
              <div class="progress">
                <div class="progress-bar progress-bar-info" style="width: 20%"></div>
              </div>
              <div class="progress">
                <div class="progress-bar progress-bar-success" style="width: 40%"></div>
              </div>
              <div class="progress">
                <div class="progress-bar progress-bar-warning" style="width: 80%"></div>
              </div>
              <div class="progress">
                <div class="progress-bar progress-bar-danger" style="width: 50%"></div>
              </div>
              
            </div>
         </div>  -->
    </div>
    
    <br>
    
    <div class="clearfix"></div>
      
    <hr>
    
  </div>
</div><!--/main-->

<!--login modal-->
<div id="loginModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
      <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h2 class="text-center"><img src="https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=100" class="img-circle"><br>Login</h2>
      </div>
      <div class="modal-body">
          <form class="form col-md-12 center-block">
            <div class="form-group">
              <input type="text" class="form-control input-lg" placeholder="Email">
            </div>
            <div class="form-group">
              <input type="password" class="form-control input-lg" placeholder="Password">
            </div>
            <div class="form-group">
              <button class="btn btn-primary btn-lg btn-block">Sign In</button>
              <span class="pull-right"><a href="#">Register</a></span><span><a href="#">Need help?</a></span>
            </div>
          </form>
      </div>
      <div class="modal-footer">
          <div class="col-md-12">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
		  </div>	
      </div>
  </div>
  </div>
</div>


<!--about modal-->
<div id="aboutModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
      <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h2 class="text-center">About</h2>
      </div>
      <div class="modal-body">
          <div class="col-md-12 text-center">
            <a href="http://www.bootply.com/DwnjTNuvVt">This Bootstrap Template</a><br>was made with <i class="glyphicon glyphicon-heart"></i> by <a href="http://bootply.com/templates">Bootply</a>
            <br><br>
            <a href="https://github.com/iatek/bootstrap-google-plus">GitHub Fork</a>
          </div>
      </div>
      <div class="modal-footer">
          <button class="btn" data-dismiss="modal" aria-hidden="true">OK</button>
      </div>
  </div>
  </div>
</div>
	<!-- script references -->
		<script src="./js/dashboard/bootstrap.min.js"></script>
		<script src="./js/dashboard/scripts.js"></script>
	</body>
</html>